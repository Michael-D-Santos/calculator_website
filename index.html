<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The DM Calculator Repository is a repository of calculators built for DeltaMath.">
    <link rel="stylesheet" href="style.css">
    <title>The Calculator Repository</title>
</head>
<body>
    <div class="card">
        <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h1 class="display-2 text-primary"><span class="ion ion-ios-tablet-portrait-outline"></span></h1>
            <h4 class="card-title text-primary">Welcome to The Calculator Repository</h4>
            <p class="card-text">This is my collection of .JSON files/Colab links to be used with my respective calculator for deployment.</p>
        </div>
    </div>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Links for each .JSON/Colab:</h3>
            </div>
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-primary align-bottom btn-lg mr-1" onclick="copyCode('DGraph2')">Analyzing the Derivative Graph (Level 2)</button>
            </div>
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-primary align-bottom btn-lg mr-1" onclick="window.open('https://colab.research.google.com/drive/1QrjAWfWGCwXTvLH_J4Cf4gyXivS4w01e?usp=sharing', '_blank');">Determine Absolute Min or Max Algebraically</button>
            </div>
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-primary align-bottom btn-lg mr-1" onclick="copyCode('Inferences')">All Possible Inferences from Graph of f or f'</button>
            </div>
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-primary align-bottom btn-lg mr-1" onclick="copyCode('Test')">Analyzing First Derivative Algebraically</button>
            </div>
        </div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>How to use it (assuming .JSON)</h3>
            </div>
            <div class="modal-body">
                <ol>
                    <li>Click the button that corresponds to the assignment name/problem type</li>
                    <li>In the website's console, paste the code that was copied to your clipboard when you pressed the button and enter (you will get a popup, just click "OK")</li>
                    <li>In the output, you will see something like <span class="d-inline-block rounded border align-middle pb-1 px-1 small"><small>(Number)Â [Array(2), Array(2), ...]</small></span> or something similar. Right click that output, and select <span class="d-inline-block rounded border align-middle pb-1 px-1 small"><small>Store object as global variable</small></span></li>
                    <li>Now press <button class="d-inline-block rounded border align-middle pb-1 px-1 small" onclick="copyToClipboard('const answer_key = temp1')"><small>this button</small></button>, then paste that into the console and enter</li>
                    <li>Copy the contents of the pastebin which was opened from step 1 (Ctrl+A to select all, then copy-paste into console)</li>
                    <li>Re-enter the code from step 5 for every new question by pressing the up arrow, then enter again, untill all questions have been answered</li>
                </ol>
            </div>
        </div>
    </div>
    <script>
    function copyToClipboard(text) {
        var textArea = document.createElement('textarea');
        textArea.value = text;

        // Append the textarea to the document
        document.body.appendChild(textArea);

        // Select the text in the textarea
        textArea.select();

        // Copy the text to the clipboard
        document.execCommand('copy');

        // Remove the textarea from the document
        document.body.removeChild(textArea);

    }
    function copyCode(text) {
        var textArea = document.createElement('textarea');
        switch (text) {
            case "Test":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Analyzing%20First%20Derivative%20Algebraically.json"
                break;
            case "Inferences":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/All%20Possible%20Inferences%20from%20Graph%20of%20f%20or%20f'.json"
                break;
            case "DGraph2":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Analyzing%20the%20Derivative%20Graph%20(Level%202).json"
                break;
        }
        textArea.value = `
var getJSON = function(url) {
    return new Promise(function(resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.responseType = 'json';
        xhr.onload = function() {
            var status = xhr.status;
            if (status === 200) {
                var responseData = xhr.response;
                console.log(responseData);  // Log the response to the console

                // Check if responseData is an object
                if (responseData && typeof responseData === 'object') {
                    resolve(responseData);
                } else {
                    reject('Invalid data structure');
                }
            } else {
                reject(status);
            }
        };

        xhr.send();
    });
};

// Make the API call and store the data in a variable
var apiData;

getJSON("${URL}")
    .then(function(data) {
        // Store the data in the variable
        apiData = data;
        console.log(

        // Now you can manipulate the 'apiData' variable as needed
        alert('API call successful'));
    })
    .catch(function(err) {
        alert('Something went wrong: ' + err);
    });

        `;

        // Append the textarea to the document
        document.body.appendChild(textArea);

        // Select the text in the textarea
        textArea.select();

        // Copy the text to the clipboard
        document.execCommand('copy');

        // Remove the textarea from the document
        document.body.removeChild(textArea);

        switch (text) {
            case "Test":
                window.open("https://pastebin.com/raw/BT2Uwqbn");
                break;
            case "Inferences":
                window.open("https://pastebin.com/raw/eiZ4LtYs");
                break;
            case "DGraph2":
                window.open("https://pastebin.com/raw/6EshNZWg");
                break;
        }
    }
    </script>
</body>
</html>
