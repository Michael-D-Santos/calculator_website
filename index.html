<!DOCTYPE html>
<html lang="en" data-theme="business">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Calculator Repository</title>
    <link rel="stylesheet" href="./output.css" />
</head>
<body>
    <div class="hero min-h-screen" style="background-image: url(https://images.unsplash.com/photo-1554224155-3a58922a22c3);">
        <div class="hero-overlay bg-opacity-60"></div>
        <div class="hero-content text-center text-neutral-content">
            <div class="max-w-md">
            <h1 class="mb-5 text-5xl font-bold">The Calculator Repository</h1>
            <p class="mb-5">This is my collection of .JSON files/Colab links to be used with my respective calculator for deployment.</p>
            <div class="flex w-full">
            <div class="drawer">
                <input id="my-drawer" type="checkbox" class="drawer-toggle" />
                <div class="drawer-content">
                  <!-- Page content here -->
                  <label for="my-drawer" class="btn btn-primary drawer-button" id="links">View Links</label>
                </div> 
                <div class="drawer-side">
                  <label for="my-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
                  <ul class="menu p-4 w-80 min-h-full bg-base-200 text-base-content">
                    <!-- Sidebar content here -->
                    <li onclick="copyCode('Definite Integrals')"><a>Definite Integrals with Substitution (Type 2)</a></li>
                    <li onclick="copyCode('Integral Properties')"><a>Integral Properties</a></li>
                    <li onclick="copyCode('Integral Area')"><a>Find Integral from Given Areas (with Properties)</a></li>
                    <li onclick="window.open('https://colab.research.google.com/drive/1cFdF_ZrIFGa7v7ikAiyJTRYva4Dkg7b2?usp=sharing', '_blank');"><a>Antidifferentiate Radicals</a></li>
                    <li onclick="window.open('https://colab.research.google.com/drive/1VpoYoZuCVAU-Ol9Ev5eLwQggxYR-shHC?usp=sharing', '_blank');"><a>Determining Concavity</a></li>
                    <li onclick="copyCode('DGraph2')"><a>Analyzing the Derivative Graph (Level 2)</a></li>
                    <li onclick="window.open('https://colab.research.google.com/drive/1QrjAWfWGCwXTvLH_J4Cf4gyXivS4w01e?usp=sharing', '_blank');"><a>Determine Absolute Min or Max Algebraically</a></li>
                    <li onclick="copyCode('Inferences')"><a>All Possible Inferences from Graph of f or f'</a></li>
                    <li onclick="copyCode('First')"><a>Analyzing First Derivative Algebraically</a></li>
                    <button class="btn" onclick="copyToClipboard('const answer_key = temp1')">CLICK FOR STEP 4 CODE</button>
                  </ul>
                </div>
            </div>
            <div class="divider divider-horizontal">OR</div>
            <div class="drawer">
                <div class="drawer-content">
                  <!-- Page content here -->
                  <div for="my-drawer" class="btn btn-primary drawer-button" id="signifier">View Guide</div>
                </div> 
            </div>
            </div>
            </div>
        </div>
    </div>
    <div class="hero min-h-screen">
    <div id="grid">
        <div class="col-span-3 text-center text-5xl font-bold" id="guide">DIRECTIONS</div>
        <div class="card w-96 bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Step 1</h2>
              <p>Click the button that corresponds to the assignment name/problem type</p>
            </div>
          </div>
          <div class="card w-96 bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Step 2</h2>
              <p>In the website's console, paste the code that was copied to your clipboard when you pressed the button and enter (you will get a popup, just click "OK")</p>
            </div>
          </div>
          <div class="card w-96 bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Step 3</h2>
              <p>In the output, you will see something like <kbd class="kbd">(Number) [Array(2), Array(2), ...]</kbd> or something similar. Right click that output, and select <kbd class="kbd">Store object as global variable</kbd></p>
            </div>
          </div>
          <div class="card w-96 bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Step 4</h2>
              <p>Now press the button from the drawer, then <kbd class="kbd">ctrl+v</kbd> into the console and enter</p>
            </div>
          </div>
          <div class="card w-96 bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Step 5</h2>
              <p>Copy the contents of the pastebin which was opened from step 1 (<kbd class="kbd">ctrl+a</kbd> to select all, then <kbd class="kbd">ctrl+v</kbd> into console)</p>
            </div>
          </div>
          <div class="card w-96 bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Step 6</h2>
              <p>Re-enter the code from step 5 for every new question by pressing the up arrow, then enter again, untill all questions have been answered</p>
            </div>
          </div>
    </div>
    </div>
    <script>
        const links = document.getElementById("links")
        const signifier = document.getElementById("signifier")
        const guide = document.getElementById("guide")
        signifier.onclick = function(){guide.scrollIntoView({behavior: "smooth"})}
        var clicked = false

        function copyToClipboard(text) {
        var textArea = document.createElement('textarea');
        textArea.value = text;

        // Append the textarea to the document
        document.body.appendChild(textArea);

        // Select the text in the textarea
        textArea.select();

        // Copy the text to the clipboard
        document.execCommand('copy');

        // Remove the textarea from the document
        document.body.removeChild(textArea);

    }
    function copyCode(text) {
        var textArea = document.createElement('textarea');
        switch (text) {
            case "First":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Analyzing%20First%20Derivative%20Algebraically.json"
                break;
            case "Inferences":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/All%20Possible%20Inferences%20from%20Graph%20of%20f%20or%20f'.json"
                break;
            case "DGraph2":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Analyzing%20the%20Derivative%20Graph%20(Level%202).json"
                break;
            case "Integral Area":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Find%20Integral%20from%20Given%20Areas%20(with%20Properties).json"
                break;
            case "Integral Properties":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Integral%20Properties.json"
                break;
            case "Definite Integrals":
                URL = "https://raw.githubusercontent.com/Michael-D-Santos/calculator_jsons/main/Definite%20Integrals%20with%20Substitution%20(Type%202).json"
                break;
        }
        textArea.value = `
var getJSON = function(url) {
    return new Promise(function(resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.responseType = 'json';
        xhr.onload = function() {
            var status = xhr.status;
            if (status === 200) {
                var responseData = xhr.response;
                console.log(responseData);  // Log the response to the console

                // Check if responseData is an object
                if (responseData && typeof responseData === 'object') {
                    resolve(responseData);
                } else {
                    reject('Invalid data structure');
                }
            } else {
                reject(status);
            }
        };

        xhr.send();
    });
};

// Make the API call and store the data in a variable
var apiData;

getJSON("${URL}")
    .then(function(data) {
        // Store the data in the variable
        apiData = data;
        console.log(

        // Now you can manipulate the 'apiData' variable as needed
        alert('API call successful'));
    })
    .catch(function(err) {
        alert('Something went wrong: ' + err);
    });

        `;

        // Append the textarea to the document
        document.body.appendChild(textArea);

        // Select the text in the textarea
        textArea.select();

        // Copy the text to the clipboard
        document.execCommand('copy');

        // Remove the textarea from the document
        document.body.removeChild(textArea);

        switch (text) {
            case "First":
                window.open("https://pastebin.com/raw/BT2Uwqbn");
                break;
            case "Inferences":
                window.open("https://pastebin.com/raw/eiZ4LtYs");
                break;
            case "Integral Area":
                window.open("https://pastebin.com/raw/eiZ4LtYs");
                break;
            case "Integral Properties":
                window.open("https://pastebin.com/raw/eiZ4LtYs");
                break;
            case "DGraph2":
                window.open("https://pastebin.com/raw/6EshNZWg");
                break;
            case "Definite Integrals":
                window.open("https://pastebin.com/raw/wVm25MBY");
                break;
        }
    }

    function handleSizes() {
      var gridElement = document.getElementById('grid');

      if (window.innerWidth >= 768) { // 768px is the medium screen size threshold, adjust as needed
        console.log(window.innerWidth)
        gridElement.classList.add('grid', 'grid-cols-3', 'gap-4');
        guide.classList.add('h-40')
      } else {
        gridElement.classList.remove('grid-cols-3', 'gap-4');
        guide.style.paddingTop = '50px';
        guide.style.paddingBottom = '50px';
      }


    }

    // Initial call to set the classes based on the initial window size
    handleSizes();

    // Add event listener for window resize
    window.addEventListener('resize', handleSizes);

    links.addEventListener('click', function(){clicked=true})

    signifier.addEventListener('click', function(){
      if (clicked === true) {
        links.click()
        clicked = false
      }
    })
    </script>
</body>
</html>
